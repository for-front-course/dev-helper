# Взаимодействие Git и GitHub через консоль

Для работы с **GitHub** нужно [зарегистрироваться](https://github.com) и привязать ssh-ключ.

-------------------------------------------

## Создание и привязка ssh-ключа

1. `cd ~/.ssh` - переходим в каталог

2. `ssh-keygen -t rsa -b 4096 -C 'e-mail'` - генерируем ключи
    * вводим имя ключа
    * вводим пароль (можно пропустить)

3. В профиле **GitHub**:
     * переходим в `Settings > SSH and GPG keys`
     * нажимаем `New SSH Key`
     * вводим имя ключа и вставляем содержимое файла `.ssh/key-name.pub`

4. В папке `.shh` создаем  файл `config` (без расширения) и вставляем:

```
Host github.com
	Identityfile ~/.ssh/key-name
```

Не перепутайте: `key-name.pub` - на **GitHub**, `key-name` (без `.pub`) - в `config`.

-------------------------------------------

## Основные команды для работы с GitHub

* `gite remote add origin ssh-address` - привязать локальный репозиторий к удаленному и назвать его `origin`
* `git remote -v` - показать связь с удаленными репозиториями

* `git clone ssh-address` - клонировать удаленный репозитрий

* `git push origin master` - отправить текущую локальную ветку в ветку `master` репозитория `origin`
* `git pull origin master` - получить изменения из ветки `master` репозитория `origin`

-------------------------------------------

### Примеры для прояснения разума

1. Находимся в ветке `branch-one`, хотим создать эту ветку в удаленном репозитории.

    * `git push origin branch-one` - отправить текущую локальную ветку в ветку `branch-one` 

-------------------------------------------

#### Не хочу каждый раз указывать путь, что делать?

* `git push -u origin branch-one` - привязать текущую локальную ветку к удаленной `branch-one`
    * если нужно назвать удаленную ветку иначе, используйте `:` (например, `branch-one:branch-1`)
    * теперь можно использовать `git push` в ветке `branch-one`

* `git branch -vv` - показать связь локальных и удаленных веток

-------------------------------------------
 
2. Находимся в ветке `master` и хотим получить ветку `branch-two`, у нас нет такой локальной ветки.
    * `git fetch origin` - получить изменения из удаленного репозитория `origin`
    * `git checkout branch-two` - гит создает нам локальную ветку, привязанную к удаленной

-------------------------------------------

### Работа со своим новым репозиторием

Случай, когда удаленный репозиторий только создан.

Здесь все просто, при создании репозитория (`Repositories > New`) **GitHub** сам подсказывает, что делать:

1. `gite remote add origin ssh-address` - установить связь с удаленным репозиторием
2. `git push -u origin master` - запушить коммиты в удаленный репозиторий
    * в следующий раз из локальной ветки `master` можно использовать просто `git push`

-------------------------------------------

### Работа со своим, уже созданным, репозиторием

Случай, когда репозиторий был создан и уже ведется история.

Например, вы хотите работать со своим репозиторием с другого компьютера.

1. `Clone or download > Clnoe with SSH` - скопировать ssh-адрес
2. `git clone ssh-address` - клонировать удаленный репозиторий

-------------------------------------------

### Работа с форком

Случай, когда вы работаете с форком мастера-репозитория.

Автоматически форк не синхронизируется с мастер-репозиторием.  
Сделаем это самостоятельно:

1. `Clone or download > Clnoe with SSH` - скопировать ssh-адрес мастер-репозитория (откуда был сделан форк)
2. `git clone ssh-address` - клонировать форк
3. `git remote add master-repos ssh-address` - установить связь с мастер-репозиторием и назвать его `master-repos`
4. `git pull master-repos master` - синхронизировать клон с веткой `master` мастер-репозитория
5. `git push` - отправить изменения в свой форк

Теперь для получения изменений из мастер-репозитория будем использовать последние два пункта.

-------------------------------------------

### У нас конфликт, вызывать полицию?

Конфликт возникает при неудачном автоматическом слиянии.

Допустим, мы добавили `background-color: #000`, делаем пуш, а **Git** нам говорит,  
что изменения уже до вас кто-то сделал, сначала заберите их.  
Мы забираем изменения и понимаем, что кто-то тоже добавил цвет фона, но другой.

```
CONFLICT (content): Merge conflict in main.css
Automatic merge failed; fix conflicts and then commit the result.
```
Что делать?

1. Открыть файл `main.css`
2. Решить конфликт самостоятельно
